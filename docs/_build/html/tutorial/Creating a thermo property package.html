

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Creating a thermo property package &mdash; Thermosteam  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6. Stoichiometric reactions" href="Stoichiometric reactions.html" />
    <link rel="prev" title="4. Thermodynamic equilibrium" href="Thermodynamic equilibrium.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Thermosteam
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Getting started.html">3. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Thermodynamic equilibrium.html">4. Thermodynamic equilibrium</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Creating a thermo property package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#References">5.1. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Stoichiometric reactions.html">6. Stoichiometric reactions</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Chemical.html">Chemical</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chemicals.html">Chemicals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CompiledChemicals.html">CompiledChemicals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Thermo.html">Thermo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Stream.html">Stream</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MultiStream.html">MultiStream</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ThermalCondition.html">ThermalCondition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functor.html">functor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../equilibrium/equilibrium_module.html">equilibrium</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reaction/reaction_module.html">reaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indexer/indexer_module.html">indexer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exceptions.html">exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functional.html">functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functors/functors_module.html">functors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Thermosteam</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">5. </span>Creating a thermo property package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorial/Creating a thermo property package.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Creating-a-thermo-property-package">
<h1><span class="section-number">5. </span>Creating a thermo property package<a class="headerlink" href="#Creating-a-thermo-property-package" title="Permalink to this headline">¶</a></h1>
<p>A Thermo object defines a thermodynamic property package. To build a
Thermo object, we must first define all the chemicals involed. The
following example will show how this can be done through the creation of
a property package for the co-production of biodiesel and ethanol from
lipid-cane <a class="reference external" href="#References">[1]</a>:</p>
<p>We can first start by defining the common chemicals already in the data
base:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">thermosteam</span> <span class="k">as</span> <span class="nn">tmo</span>
<span class="n">Biodiesel</span> <span class="o">=</span> <span class="n">tmo</span><span class="o">.</span><span class="n">Chemical</span><span class="p">(</span><span class="s1">&#39;Biodiesel&#39;</span><span class="p">,</span> <span class="n">search_ID</span><span class="o">=</span><span class="s1">&#39;Methyl oleate&#39;</span><span class="p">)</span>
<span class="n">chemicals</span> <span class="o">=</span> <span class="n">tmo</span><span class="o">.</span><span class="n">Chemicals</span><span class="p">([</span><span class="s1">&#39;Water&#39;</span><span class="p">,</span> <span class="s1">&#39;Methanol&#39;</span><span class="p">,</span> <span class="s1">&#39;Ethanol&#39;</span><span class="p">,</span> <span class="s1">&#39;Glycerol&#39;</span><span class="p">,</span> <span class="s1">&#39;Glucose&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;Sucrose&#39;</span><span class="p">,</span> <span class="s1">&#39;H3PO4&#39;</span><span class="p">,</span> <span class="s1">&#39;CO2&#39;</span><span class="p">,</span> <span class="s1">&#39;Octane&#39;</span><span class="p">,</span> <span class="n">Biodiesel</span><span class="p">])</span>
<span class="p">(</span><span class="n">Water</span><span class="p">,</span> <span class="n">Methanol</span><span class="p">,</span> <span class="n">Ethanol</span><span class="p">,</span>
 <span class="n">Glycerol</span><span class="p">,</span> <span class="n">Glucose</span><span class="p">,</span> <span class="n">Sucrose</span><span class="p">,</span>
 <span class="n">H3PO4</span><span class="p">,</span> <span class="n">CO2</span><span class="p">,</span> <span class="n">Octane</span><span class="p">,</span> <span class="n">Biodiesel</span><span class="p">)</span> <span class="o">=</span> <span class="n">chemicals</span>
</pre></div>
</div>
</div>
<p>We can assume that CO2 gas will always remain a gas in the process by
setting the state:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">CO2</span><span class="o">.</span><span class="n">at_state</span><span class="p">(</span><span class="n">phase</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Similarly, we can assume glucose, sucrose, and phosphoric acid all
remain as solids:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">Glucose</span><span class="o">.</span><span class="n">at_state</span><span class="p">(</span><span class="n">phase</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">Sucrose</span><span class="o">.</span><span class="n">at_state</span><span class="p">(</span><span class="n">phase</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">H3PO4</span><span class="o">.</span><span class="n">at_state</span><span class="p">(</span><span class="n">phase</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now we can define the solids in the process (both soluble and
insoluble). We can use the <code class="docutils literal notranslate"><span class="pre">Chemical.blank</span></code> method to create a blank
Chemical object and add the thermo models ourselves:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">create_new_chemical</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">constants</span><span class="p">):</span>
    <span class="c1"># Create a new solid chemical without any data</span>
    <span class="n">solid</span> <span class="o">=</span> <span class="n">tmo</span><span class="o">.</span><span class="n">Chemical</span><span class="o">.</span><span class="n">blank</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="n">phase</span><span class="p">,</span> <span class="o">**</span><span class="n">constants</span><span class="p">)</span>

    <span class="c1"># Add chemical to the Chemicals object</span>
    <span class="n">chemicals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">solid</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">solid</span>

<span class="n">Ash</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;Ash&#39;</span><span class="p">)</span>
<span class="n">Cellulose</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;Cellulose&#39;</span><span class="p">)</span>
<span class="n">Hemicellulose</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;Hemicellulose&#39;</span><span class="p">)</span>
<span class="n">Flocculant</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;Flocculant&#39;</span><span class="p">)</span>
<span class="n">Lignin</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;Lignin&#39;</span><span class="p">)</span>
<span class="n">Solids</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;Solids&#39;</span><span class="p">)</span>
<span class="n">DryYeast</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;DryYeast&#39;</span><span class="p">,</span> <span class="n">CAS</span><span class="o">=</span><span class="s1">&#39;Yeast&#39;</span><span class="p">)</span>
<span class="n">CaO</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;CaO&#39;</span><span class="p">,</span> <span class="n">MW</span><span class="o">=</span><span class="mf">56.0774</span><span class="p">)</span>
<span class="n">HCl</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;HCl&#39;</span><span class="p">,</span> <span class="n">MW</span><span class="o">=</span><span class="mf">36.46094</span><span class="p">)</span>
<span class="n">NaOH</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;NaOH&#39;</span><span class="p">,</span> <span class="n">MW</span><span class="o">=</span><span class="mf">39.997109</span><span class="p">)</span>
<span class="n">NaOCH3</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span><span class="s1">&#39;NaOCH3&#39;</span><span class="p">,</span> <span class="n">MW</span><span class="o">=</span><span class="mf">54.023689</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Note that we are still missing the lipid, modeled as Triolein. However,
Triolein is not in the data bank, so let’s start making it from scratch:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">Lipid</span> <span class="o">=</span> <span class="n">create_new_chemical</span><span class="p">(</span>
    <span class="s1">&#39;Lipid&#39;</span><span class="p">,</span>
    <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;l&#39;</span><span class="p">,</span>
    <span class="n">Hc</span><span class="o">=</span><span class="mf">35099.6e3</span><span class="p">,</span> <span class="c1"># https://webbook.nist.gov/cgi/cbook.cgi?ID=C122327&amp;Mask=2</span>
    <span class="n">Hf</span><span class="o">=-</span><span class="mf">2193.7e3</span><span class="p">,</span>
    <span class="n">MW</span><span class="o">=</span><span class="mf">885.432</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>Instead of creating new models based on external sources, here we will
approximate Triolein with the properties of Tripalmitin (which does
exist in the data bank):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">Tripalmitin</span> <span class="o">=</span> <span class="n">tmo</span><span class="o">.</span><span class="n">Chemical</span><span class="p">(</span><span class="s1">&#39;Tripalmitin&#39;</span><span class="p">)</span>
<span class="n">remaining_missing_slots</span> <span class="o">=</span> <span class="n">Lipid</span><span class="o">.</span><span class="n">copy_missing_slots_from</span><span class="p">(</span><span class="n">Tripalmitin</span><span class="p">)</span>
<span class="c1"># Note that Tripalmitin does not have the following missing data,</span>
<span class="c1"># but this is fine as we don&#39;t need it for the process</span>
<span class="n">remaining_missing_slots</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[8]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>{&#39;Hfus&#39;,
 &#39;Hsub&#39;,
 &#39;Hvap&#39;,
 &#39;Pc&#39;,
 &#39;Psat&#39;,
 &#39;Pt&#39;,
 &#39;StielPolar&#39;,
 &#39;Tc&#39;,
 &#39;Vc&#39;,
 &#39;Zc&#39;,
 &#39;dipole&#39;,
 &#39;iscyclic_aliphatic&#39;,
 &#39;omega&#39;}
</pre></div>
</div>
</div>
<p>All what is left is to fill the chemical properties. This done through
the <code class="docutils literal notranslate"><span class="pre">add_model</span></code> method of the chemical model handles. Let’s begin with
the solids using data from <a class="reference external" href="#References">[1-4]</a>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">thermosteam</span> <span class="kn">import</span> <span class="n">functional</span> <span class="k">as</span> <span class="n">fn</span>
<span class="n">insoluble_solid_molar_volume</span> <span class="o">=</span> <span class="n">fn</span><span class="o">.</span><span class="n">rho_to_V</span><span class="p">(</span><span class="n">rho</span><span class="o">=</span><span class="mi">1540</span><span class="p">,</span> <span class="n">MW</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>

<span class="c1"># Insolubles occupy a significant volume</span>
<span class="n">insoluble_solids</span> <span class="o">=</span> <span class="p">(</span><span class="n">Ash</span><span class="p">,</span> <span class="n">Cellulose</span><span class="p">,</span> <span class="n">Hemicellulose</span><span class="p">,</span> <span class="n">Flocculant</span><span class="p">,</span> <span class="n">Lignin</span><span class="p">,</span> <span class="n">Solids</span><span class="p">,</span> <span class="n">DryYeast</span><span class="p">)</span>

<span class="c1"># Solubles don&#39;t occupy much volume</span>
<span class="n">soluble_solids</span> <span class="o">=</span> <span class="p">(</span><span class="n">CaO</span><span class="p">,</span> <span class="n">HCl</span><span class="p">,</span> <span class="n">NaOH</span><span class="p">,</span> <span class="n">Glucose</span><span class="p">,</span> <span class="n">Sucrose</span><span class="p">)</span>

<span class="k">for</span> <span class="n">chemical</span> <span class="ow">in</span> <span class="n">insoluble_solids</span><span class="p">:</span>
    <span class="n">chemical</span><span class="o">.</span><span class="n">V</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">insoluble_solid_molar_volume</span><span class="p">)</span>

<span class="k">for</span> <span class="n">chemical</span> <span class="ow">in</span> <span class="n">soluble_solids</span><span class="p">:</span>
    <span class="n">V</span> <span class="o">=</span> <span class="n">fn</span><span class="o">.</span><span class="n">rho_to_V</span><span class="p">(</span><span class="n">rho</span><span class="o">=</span><span class="mf">1e5</span><span class="p">,</span> <span class="n">MW</span><span class="o">=</span><span class="n">chemical</span><span class="o">.</span><span class="n">MW</span><span class="p">)</span>
    <span class="n">chemical</span><span class="o">.</span><span class="n">V</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">top_priority</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Assume sodium methoxide has same properities as methanol</span>
<span class="c1"># except for molecular weight</span>
<span class="n">NaOCH3</span><span class="o">.</span><span class="n">copy_missing_slots_from</span><span class="p">(</span><span class="n">chemicals</span><span class="o">.</span><span class="n">Methanol</span><span class="p">)</span>

<span class="c1"># Add constant models for molar heat capacity of solids</span>
<span class="n">Ash</span><span class="o">.</span><span class="n">Cn</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="mf">0.09</span> <span class="o">*</span> <span class="mf">4.184</span><span class="p">)</span>
<span class="n">CaO</span><span class="o">.</span><span class="n">Cn</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="mf">1.02388</span> <span class="o">*</span> <span class="mf">56.0774</span><span class="p">)</span>
<span class="n">Cellulose</span><span class="o">.</span><span class="n">Cn</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="mf">1.364</span><span class="p">)</span>
<span class="n">Hemicellulose</span><span class="o">.</span><span class="n">Cn</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="mf">1.364</span><span class="p">)</span>
<span class="n">Flocculant</span><span class="o">.</span><span class="n">Cn</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="mf">4.184</span><span class="p">)</span>
<span class="n">Lignin</span><span class="o">.</span><span class="n">Cn</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="mf">1.364</span><span class="p">)</span>
<span class="n">Solids</span><span class="o">.</span><span class="n">Cn</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="mf">1.100</span><span class="p">)</span>

<span class="c1"># Set heats of formation and combustion (for those that need it)</span>
<span class="n">Hemicellulose</span><span class="o">.</span><span class="n">Hc</span> <span class="o">=</span> <span class="mf">17e3</span>
<span class="n">Cellulose</span><span class="o">.</span><span class="n">Hc</span> <span class="o">=</span> <span class="mf">17e3</span>
<span class="n">Lignin</span><span class="o">.</span><span class="n">Hc</span> <span class="o">=</span> <span class="mf">21e3</span>
<span class="n">Glucose</span><span class="o">.</span><span class="n">Hc</span> <span class="o">=</span> <span class="mf">2.8e6</span>
<span class="n">Sucrose</span><span class="o">.</span><span class="n">Hc</span> <span class="o">=</span> <span class="mf">5.7e6</span>
<span class="n">Lipid</span><span class="o">.</span><span class="n">Hc</span> <span class="o">=</span> <span class="mf">36e6</span>

<span class="n">Ethanol</span><span class="o">.</span><span class="n">Hf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">277.690e3</span>
<span class="n">Water</span><span class="o">.</span><span class="n">Hf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">241.820e3</span>
<span class="n">CO2</span><span class="o">.</span><span class="n">Hf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">393.520e3</span> <span class="c1"># in gas</span>
<span class="n">Glucose</span><span class="o">.</span><span class="n">Hf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1274e3</span>
<span class="n">Sucrose</span><span class="o">.</span><span class="n">Hf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2221.2e3</span>
<span class="n">Octane</span><span class="o">.</span><span class="n">Hf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">250e3</span>
<span class="n">H3PO4</span><span class="o">.</span><span class="n">Hf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1271.66e3</span>
<span class="n">Lipid</span><span class="o">.</span><span class="n">Hf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.1937e3</span>
<span class="n">Biodiesel</span><span class="o">.</span><span class="n">Hf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.72764e3</span>
<span class="n">Glycerol</span><span class="o">.</span><span class="n">Hf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.6696e3</span>
</pre></div>
</div>
</div>
<p>We don’t care much about the rest of the properties (e.g. thermal
conductivity), so we can default them to the values of water:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">chemical</span> <span class="ow">in</span> <span class="n">chemicals</span><span class="p">:</span>
    <span class="n">chemical</span><span class="o">.</span><span class="n">default</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Once the chemicals are finalized, we can compile them into a Thermo
object:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">thermo</span> <span class="o">=</span> <span class="n">tmo</span><span class="o">.</span><span class="n">Thermo</span><span class="p">(</span><span class="n">chemicals</span><span class="p">)</span>
<span class="n">thermo</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[11]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>Thermo(chemicals=CompiledChemicals([Water, Methanol, Ethanol, Glycerol, Glucose, Sucrose, H3PO4, CO2, Octane, Biodiesel, Ash, Cellulose, Hemicellulose, Flocculant, Lignin, Solids, DryYeast, CaO, HCl, NaOH, NaOCH3, Lipid]), mixture=Mixture(&#39;ideal mixing rules&#39;, ..., rigorous_energy_balance=True, include_excess_energies=False), Gamma=DortmundActivityCoefficients, Phi=IdealFugacityCoefficients, PCF=IdealPoyintingCorrectionFactors)
</pre></div>
</div>
</div>
<p>Note that the Thermo object, by default, chooses ideal mixing rules for
estimating mixture properties, and neglects excess properties in the
calculation of enthalpy and entropy:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">thermo</span><span class="o">.</span><span class="n">mixture</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[12]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>Mixture(&#39;ideal mixing rules&#39;, ..., rigorous_energy_balance=True, include_excess_energies=False)
</pre></div>
</div>
</div>
<p>It is possible to implement a your own Mixture object, but this is out
the scope of ordinary users. You can request help on this process
through <a class="reference external" href="https://github.com/yoelcortes/thermosteam">https://github.com/yoelcortes/thermosteam</a>.</p>
<p>Note that a Thermo object contains ActivityCoefficients,
FugacityCoefficients, and PoyintingCorrectionFactors subclasses to
define fugacity estimation methods. By default, the Dortmund modified
UNIFAC method for estimating activities is selected, while ideal values
for (vapor phase) fugacity coefficients and poyinting correction factos
are selected.</p>
<div class="section" id="References">
<h2><span class="section-number">5.1. </span>References<a class="headerlink" href="#References" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Huang, H., Long, S., &amp; Singh, V. (2016) “Techno-economic analysis of
biodiesel and ethanol co-production from lipid-producing sugarcane”
Biofuels, Bioproducts and Biorefining, 10(3), 299–315.
<a class="reference external" href="https://doi.org/10.1002/bbb.1640">https://doi.org/10.1002/bbb.1640</a></p></li>
<li><p>Hatakeyama, T., Nakamura, K., &amp; Hatakeyama, H. (1982). Studies on
heat capacity of cellulose and lignin by differential scanning
calorimetry. Polymer, 23(12), 1801–1804.
<a class="reference external" href="https://doi.org/10.1016/0032-3861(82)90125-2">https://doi.org/10.1016/0032-3861(82)90125-2</a></p></li>
<li><p>Thybring, E. E. (2014). Explaining the heat capacity of wood
constituents by molecular vibrations. Journal of Materials Science,
49(3), 1317–1327. <a class="reference external" href="https://doi.org/10.1007/s10853-013-7815-6">https://doi.org/10.1007/s10853-013-7815-6</a></p></li>
<li><p>Murphy W. K., and K. R. Masters. (1978). Gross heat of combustion of
northern red oak (Quercus rubra) chemical components. Wood Sci.
10:139-141.</p></li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Stoichiometric reactions.html" class="btn btn-neutral float-right" title="6. Stoichiometric reactions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Thermodynamic equilibrium.html" class="btn btn-neutral float-left" title="4. Thermodynamic equilibrium" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Yoel Cortes-Pena

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>