

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>thermosteam.functors.solubility &mdash; Thermosteam  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Thermosteam
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/Getting started.html">3. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/Thermodynamic equilibrium.html">4. Thermodynamic equilibrium</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/Stoichiometric reactions.html">5. Stoichiometric reactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/Extending chemicals.html">6. Extending chemicals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/Building new chemicals.html">7. Creating new chemicals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/Extending equilibrium coefficients.html">8. Extending equilibrium coefficients</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Chemical.html">Chemical</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Chemicals.html">Chemicals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Thermo.html">Thermo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Stream.html">Stream</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../MultiStream.html">MultiStream</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ThermalCondition.html">ThermalCondition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functor.html">functor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../equilibrium/equilibrium_module.html">equilibrium</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reaction/reaction_module.html">reaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../indexer/indexer_module.html">indexer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../exceptions.html">exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functional.html">functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functors/functors_module.html">functors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Thermosteam</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>thermosteam.functors.solubility</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for thermosteam.functors.solubility</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&#39;&#39;&#39;Chemical Engineering Design Library (ChEDL). Utilities for process modeling.</span>
<span class="sd">Copyright (C) 2016, Caleb Bell &lt;Caleb.Andrew.Bell@gmail.com&gt;</span>

<span class="sd">Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="sd">of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span class="sd">in the Software without restriction, including without limitation the rights</span>
<span class="sd">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="sd">copies of the Software, and to permit persons to whom the Software is</span>
<span class="sd">furnished to do so, subject to the following conditions:</span>

<span class="sd">The above copyright notice and this permission notice shall be included in all</span>
<span class="sd">copies or substantial portions of the Software.</span>

<span class="sd">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="sd">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="sd">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="sd">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="sd">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="sd">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
<span class="sd">SOFTWARE.&#39;&#39;&#39;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;solubility_parameter_methods&#39;</span><span class="p">,</span> <span class="s1">&#39;solubility_parameter&#39;</span><span class="p">,</span> 
           <span class="s1">&#39;solubility_eutectic&#39;</span><span class="p">,</span> <span class="s1">&#39;Tm_depression_eutectic&#39;</span><span class="p">]</span>
           
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span><span class="p">,</span> <span class="n">exp</span>
<span class="kn">from</span> <span class="nn">.._constants</span> <span class="kn">import</span> <span class="n">R</span>

<span class="n">folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s1">&#39;Data/Solubility&#39;</span><span class="p">)</span>


<span class="c1">#def MolarSolubility(CASRN=None, Pi=101325):</span>
<span class="c1">#    &#39;&#39;&#39;Assume molarity&#39;&#39;&#39;</span>
<span class="c1">#    data = _HenrysLawSiteDict[CASRN]</span>
<span class="c1">#    Pi = Pi/101325. # Adjust for atmosphere unit</span>
<span class="c1">#    molarity = Pi*data[&quot;HA&quot;]/rho_w_298</span>
<span class="c1">#    return molarity</span>

<span class="c1">#print MolarSolubility(CASRN=&#39;7446-09-5&#39;, Pi=101325*.025)</span>
<span class="c1">#print MolarSolubility(CASRN=&#39;10049-04-4&#39;, Pi=101325*.16*.03)*67.4518</span>

<span class="c1">#def fit_m(CASRN=None, MW=None, Pmin=10000, Pmax=1E5, PT=None):</span>
<span class="c1">#    &#39;&#39;&#39;m is in mole fraction gas&#39;&#39;&#39;</span>
<span class="c1">#    if not MW or not CASRN:</span>
<span class="c1">#        raise Exception(&#39;CAS number and MW are required for this function&#39;)</span>
<span class="c1">#    if not PT:</span>
<span class="c1">#        PT = Pmax</span>
<span class="c1">#    Ps = np.linspace(Pmin, Pmax, 100)</span>
<span class="c1">#    Xs = []</span>
<span class="c1">#    for Pi in Ps:</span>
<span class="c1">#        Ci = MolarSolubility(CASRN, Pi=Pi)</span>
<span class="c1">#        Xs.append(Ci/((1000.-Ci*MW)/MW_w))</span>
<span class="c1">#    Ys = [Pi/PT for Pi in Ps]</span>
<span class="c1">#    ms = [(Ys[i]/Xs[i])**2 for i in range(len(Xs))]</span>
<span class="c1">#    m = np.average(ms)**0.5</span>
<span class="c1">##    plt.plot(Xs, Ys)</span>
<span class="c1">##    plt.show()</span>
<span class="c1">#    return m</span>


<span class="c1">#MSO2 = 64.0638</span>
<span class="c1">#print fit_m(&#39;1310-73-2&#39;, 40)</span>

<span class="n">DEFINITION</span> <span class="o">=</span> <span class="s1">&#39;DEFINITION&#39;</span>
<span class="n">NONE</span> <span class="o">=</span> <span class="s1">&#39;NONE&#39;</span>
<span class="n">solubility_parameter_methods</span> <span class="o">=</span> <span class="p">[</span><span class="n">DEFINITION</span><span class="p">]</span>


<div class="viewcode-block" id="solubility_parameter"><a class="viewcode-back" href="../../../functors/solubility.html#thermosteam.functors.solubility.solubility_parameter">[docs]</a><span class="k">def</span> <span class="nf">solubility_parameter</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mf">298.15</span><span class="p">,</span> <span class="n">Hvapm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Vml</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">CASRN</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">AvailableMethods</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">Method</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&#39;&#39;&#39;This function handles the calculation of a chemical&#39;s solubility</span>
<span class="sd">    parameter. Calculation is a function of temperature, but is not always</span>
<span class="sd">    presented as such. No lookup values are available; either `Hvapm`, `Vml`,</span>
<span class="sd">    and `T` are provided or the calculation cannot be performed.</span>

<span class="sd">    .. math::</span>
<span class="sd">        \delta = \sqrt{\frac{\Delta H_{vap} - RT}{V_m}}</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    T : float</span>
<span class="sd">        Temperature of the fluid [k]</span>
<span class="sd">    Hvapm : float</span>
<span class="sd">        Heat of vaporization [J/mol/K]</span>
<span class="sd">    Vml : float</span>
<span class="sd">        Specific volume of the liquid [m^3/mol]</span>
<span class="sd">    CASRN : str, optional</span>
<span class="sd">        CASRN of the fluid, not currently used [-]</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    delta : float</span>
<span class="sd">        Solubility parameter, [Pa^0.5]</span>
<span class="sd">    methods : list, only returned if AvailableMethods == True</span>
<span class="sd">        List of methods which can be used to obtain the solubility parameter</span>
<span class="sd">        with the given inputs</span>

<span class="sd">    Other Parameters</span>
<span class="sd">    ----------------</span>
<span class="sd">    Method : string, optional</span>
<span class="sd">        A string for the method name to use, as defined by constants in</span>
<span class="sd">        solubility_parameter_methods</span>
<span class="sd">    AvailableMethods : bool, optional</span>
<span class="sd">        If True, function will determine which methods can be used to obtain</span>
<span class="sd">        the solubility parameter for the desired chemical, and will return</span>
<span class="sd">        methods instead of the solubility parameter</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Undefined past the critical point. For convenience, if Hvap is not defined,</span>
<span class="sd">    an error is not raised; None is returned instead. Also for convenience,</span>
<span class="sd">    if Hvapm is less than RT, None is returned to avoid taking the root of a</span>
<span class="sd">    negative number.</span>

<span class="sd">    This parameter is often given in units of cal/ml, which is 2045.48 times</span>
<span class="sd">    smaller than the value returned here.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Pentane at STP</span>

<span class="sd">    &gt;&gt;&gt; solubility_parameter(T=298.2, Hvapm=26403.3, Vml=0.000116055)</span>
<span class="sd">    14357.681538173534</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [1] Barton, Allan F. M. CRC Handbook of Solubility Parameters and Other</span>
<span class="sd">       Cohesion Parameters, Second Edition. CRC Press, 1991.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">list_methods</span><span class="p">():</span>
        <span class="n">methods</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">T</span> <span class="ow">and</span> <span class="n">Hvapm</span> <span class="ow">and</span> <span class="n">Vml</span><span class="p">:</span>
            <span class="n">methods</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">DEFINITION</span><span class="p">)</span>
        <span class="n">methods</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">NONE</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">methods</span>
    <span class="k">if</span> <span class="n">AvailableMethods</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">list_methods</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">Method</span><span class="p">:</span>
        <span class="n">Method</span> <span class="o">=</span> <span class="n">list_methods</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">Method</span> <span class="o">==</span> <span class="n">DEFINITION</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">Hvapm</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="n">T</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="n">Vml</span><span class="p">):</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">Hvapm</span> <span class="o">&lt;</span> <span class="n">R</span><span class="o">*</span><span class="n">T</span> <span class="ow">or</span> <span class="n">Vml</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Prevent taking the root of a negative number</span>
                <span class="n">delta</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">delta</span> <span class="o">=</span> <span class="p">((</span><span class="n">Hvapm</span> <span class="o">-</span> <span class="n">R</span><span class="o">*</span><span class="n">T</span><span class="p">)</span><span class="o">/</span><span class="n">Vml</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
    <span class="k">elif</span> <span class="n">Method</span> <span class="o">==</span> <span class="n">NONE</span><span class="p">:</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Failure in in function&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">delta</span></div>


<div class="viewcode-block" id="solubility_eutectic"><a class="viewcode-back" href="../../../functors/solubility.html#thermosteam.functors.solubility.solubility_eutectic">[docs]</a><span class="k">def</span> <span class="nf">solubility_eutectic</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">Tm</span><span class="p">,</span> <span class="n">Hm</span><span class="p">,</span> <span class="n">Cpl</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Cps</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&#39;&#39;&#39;Returns the maximum solubility of a solute in a solvent.</span>

<span class="sd">    .. math::</span>
<span class="sd">        \ln x_i^L \gamma_i^L = \frac{\Delta H_{m,i}}{RT}\left(</span>
<span class="sd">        1 - \frac{T}{T_{m,i}}\right) - \frac{\Delta C_{p,i}(T_{m,i}-T)}{RT}</span>
<span class="sd">        + \frac{\Delta C_{p,i}}{R}\ln\frac{T_m}{T}</span>

<span class="sd">        \Delta C_{p,i} = C_{p,i}^L - C_{p,i}^S</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    T : float</span>
<span class="sd">        Temperature of the system [K]</span>
<span class="sd">    Tm : float</span>
<span class="sd">        Melting temperature of the solute [K]</span>
<span class="sd">    Hm : float</span>
<span class="sd">        Heat of melting at the melting temperature of the solute [J/mol]</span>
<span class="sd">    Cpl : float, optional</span>
<span class="sd">        Molar heat capacity of the solute as a liquid [J/mol/K]</span>
<span class="sd">    Cpls: float, optional</span>
<span class="sd">        Molar heat capacity of the solute as a solid [J/mol/K]</span>
<span class="sd">    gamma : float, optional</span>
<span class="sd">        Activity coefficient of the solute as a liquid [-]</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    x : float</span>
<span class="sd">        Mole fraction of solute at maximum solubility [-]</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    gamma is of the solute in liquid phase</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    From [1]_, matching example</span>

<span class="sd">    &gt;&gt;&gt; solubility_eutectic(T=260., Tm=278.68, Hm=9952., Cpl=0, Cps=0, gamma=3.0176)</span>
<span class="sd">    0.24340068761677464</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [1] Gmehling, Jurgen. Chemical Thermodynamics: For Process Simulation.</span>
<span class="sd">       Weinheim, Germany: Wiley-VCH, 2012.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">dCp</span> <span class="o">=</span> <span class="n">Cpl</span><span class="o">-</span><span class="n">Cps</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span> <span class="n">Hm</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">T</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">T</span><span class="o">/</span><span class="n">Tm</span><span class="p">)</span> <span class="o">+</span> <span class="n">dCp</span><span class="o">*</span><span class="p">(</span><span class="n">Tm</span><span class="o">-</span><span class="n">T</span><span class="p">)</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">T</span> <span class="o">-</span> <span class="n">dCp</span><span class="o">/</span><span class="n">R</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="n">Tm</span><span class="o">/</span><span class="n">T</span><span class="p">))</span><span class="o">/</span><span class="n">gamma</span>
    <span class="k">return</span> <span class="n">x</span></div>

<span class="c1">#print solubility_eutectic(T=293.15, Tm=489.6, Hm=28860., Cpl=0, Cps=0, gamma=1)</span>
<span class="c1">#print [solubility_eutectic(T=293.15, Tm=369.4, Hm=18640., Cpl=0, Cps=0, gamma=1)]</span>

<span class="c1">#print [solubility_eutectic(T=260., Tm=278.68, Hm=9952., Cpl=0, Cps=0, gamma=3.0176)] # 0.243400708394</span>

<span class="c1">#print UNIQUAC(T=260., xs=[.7566, .2434], rs=[2.1055, 3.1878], qs=[1.972, 2.4],</span>
<span class="c1">#              umat=[[0, -43.],[384.09, 0]])</span>

<span class="c1">#def err(x):</span>
<span class="c1">#    from .activity import UNIQUAC</span>
<span class="c1">#    gamma = UNIQUAC(T=260., xs=[1-x, x], rs=[2.1055, 3.1878], qs=[1.972, 2.4],</span>
<span class="c1">#              umat=[[0, -43.],[384.09, 0]])[1]</span>
<span class="c1">#    x2 = solubility_eutectic(T=260., Tm=278.68, Hm=9952., Cpl=0, Cps=0, gamma=gamma)</span>
<span class="c1">#    return (x-x2)**2</span>
<span class="c1">#</span>
<span class="c1">#from scipy.optimize import fsolve</span>
<span class="c1">#print fsolve(err, .9)</span>
<span class="c1">#[ 0.24340135]</span>


<div class="viewcode-block" id="Tm_depression_eutectic"><a class="viewcode-back" href="../../../functors/solubility.html#thermosteam.functors.solubility.Tm_depression_eutectic">[docs]</a><span class="k">def</span> <span class="nf">Tm_depression_eutectic</span><span class="p">(</span><span class="n">Tm</span><span class="p">,</span> <span class="n">Hm</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">M</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">MW</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&#39;&#39;&#39;Returns the freezing point depression caused by a solute in a solvent.</span>
<span class="sd">    Can use either the mole fraction of the solute or its molality and the</span>
<span class="sd">    molecular weight of the solvent. Assumes ideal system behavior.</span>

<span class="sd">    .. math::</span>
<span class="sd">        \Delta T_m = \frac{R T_m^2 x}{\Delta H_m}</span>

<span class="sd">        \Delta T_m = \frac{R T_m^2 (MW) M}{1000 \Delta H_m}</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Tm : float</span>
<span class="sd">        Melting temperature of the solute [K]</span>
<span class="sd">    Hm : float</span>
<span class="sd">        Heat of melting at the melting temperature of the solute [J/mol]</span>
<span class="sd">    x : float, optional</span>
<span class="sd">        Mole fraction of the solute [-]</span>
<span class="sd">    M : float, optional</span>
<span class="sd">        Molality [mol/kg]</span>
<span class="sd">    MW: float, optional</span>
<span class="sd">        Molecular weight of the solvent [g/mol]</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dTm : float</span>
<span class="sd">        Freezing point depression [K]</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    MW is the molecular weight of the solvent. M is the molality of the solute.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    From [1]_, matching example.</span>

<span class="sd">    &gt;&gt;&gt; Tm_depression_eutectic(353.35, 19110, .02)</span>
<span class="sd">    1.0864594900639515</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [1] Gmehling, Jurgen. Chemical Thermodynamics: For Process Simulation.</span>
<span class="sd">       Weinheim, Germany: Wiley-VCH, 2012.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">x</span><span class="p">:</span>
        <span class="n">dTm</span> <span class="o">=</span> <span class="n">R</span><span class="o">*</span><span class="n">Tm</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">/</span><span class="n">Hm</span>
    <span class="k">elif</span> <span class="n">M</span> <span class="ow">and</span> <span class="n">MW</span><span class="p">:</span>
        <span class="n">MW</span> <span class="o">=</span> <span class="n">MW</span><span class="o">/</span><span class="mf">1000.</span> <span class="c1">#g/mol to kg/mol</span>
        <span class="n">dTm</span> <span class="o">=</span> <span class="n">R</span><span class="o">*</span><span class="n">Tm</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">MW</span><span class="o">*</span><span class="n">M</span><span class="o">/</span><span class="n">Hm</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Either molality or mole fraction of the solute must be specified; MW of the solvent is required also if molality is provided&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dTm</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Yoel Cortes-Pena

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>